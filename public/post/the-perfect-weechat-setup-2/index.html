    <!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Hugo Müller-Downing">
		<meta name="description" content="I write stuff sometimes">
		<meta name="generator" content="Hugo 0.16" />
		<title>The Perfect Weechat Setup &middot; Hugo&#39;s Blog</title>
		<link rel="shortcut icon" href="https://blog.hugo.sx/images/favicon.ico">
		<link rel="stylesheet" href="https://blog.hugo.sx/css/style.css">
		<link rel="stylesheet" href="https://blog.hugo.sx/css/highlight.css">
		

		
		<link rel="stylesheet" href="https://blog.hugo.sx/fontawesome/css/font-awesome.min.css">
		

		
		<link href="https://blog.hugo.sx/index.xml" rel="alternate" type="application/rss+xml" title="Hugo&#39;s Blog" />
		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='https://blog.hugo.sx/'> <span class="arrow">←</span>Home</a>
	

	
		<a href='https://blog.hugo.sx/about'>About</a>
	

	
	<a class="cta" href="https://blog.hugo.sx/index.xml">Subscribe</a>
	
</nav>

        <section id="wrapper">
            <article class="post">
                <header>
                    <h1>The Perfect Weechat Setup</h1>
                    <h2 class="headline">
                    July 26, 2014 
                    <br>
                    
                    
                        
                            <a href="https://blog.hugo.sx/tags/development">development</a>
                        
                            <a href="https://blog.hugo.sx/tags/setup">setup</a>
                        
                            <a href="https://blog.hugo.sx/tags/tutorial">tutorial</a>
                        
                    
                    
                    </h2>
                </header>
                <section id="post-body">
                    

<h3 id="update-13-08-15">Update 13/08/15</h3>

<p>I&rsquo;ve been getting a few emails asking for my configuration files so I&rsquo;ve uploaded them: <a href="http://s3.hugo.sx/files/weechat/13-07-15/weechat.conf">weechat.conf</a>, irc.conf (temporarily unavailable). &ldquo;weechat.conf&rdquo; contains general configurations for looks but &ldquo;irc.conf&rdquo; contains a setting that lets you create indented channels, under their respective server:<br />
<img src="http://s3.hugo.sx/ss/qaUj7.png" alt="" /></p>

<h3 id="what-we-ll-be-doing">What we&rsquo;ll be doing</h3>

<ol>
<li>Important things to know</li>
<li>Installing <a href="http://weechat.org/">Weechat</a>.<br /></li>
<li>Installing plugins</li>
<li>Making it look pretty.</li>
<li>Setting up <a href="http://wiki.znc.in/ZNC">ZNC</a> which lets you stay connected to IRC indefinitely.</li>
</ol>

<h3 id="prior-knowledge">Prior knowledge</h3>

<p>Before we get started, it&rsquo;s vital that you have some command line experience, whether it&rsquo;s a little bash here and there or programming. I say this not to dissuade you from installing weechat but because if you don&rsquo;t like CLI (Command Line Interface), you&rsquo;d be far more comfortable using a GUI (Graphic User Interface).</p>

<h5 id="weechat-irc-terminology">Weechat/IRC terminology</h5>

<ul>
<li><code>buffers</code> are essentially &lsquo;windows&rsquo; in which messages/chats/settings options are shown. You can generally switch between these using <code>meta-[1 .. 9]</code>. The first buffer, labelled 1, contains connected server buffers by default, that&rsquo;s the servers you&rsquo;re connected to. You can switch between these servers using <code>Ctrl+X</code>, that&rsquo;s <em>not</em> the same as switching between buffers.</li>
<li>key bindings - escape is the &lsquo;meta&rsquo; key on Mac.</li>
<li><code>/query</code> and <code>/msg</code> do different things - <code>/query</code> opens a new buffer in which you can type messages to users while <code>/msg</code> will send a direct message to a user without opening a buffer.</li>
<li>the weechat configuration system runs on a specific hierarchy (it&rsquo;s quite smart) - specific settings are denoted by the label they start with. For instance, general IRC settings are denoted by <code>irc</code> while weechat settings are denoted by <code>weechat</code>. This is generally useful to know when modifying configuration from within weechat, which you can do using <code>/set [options]</code>.</li>
<li>Browsing options - you can use the iset.pl plugin to search for key terms in configuration or you can use <code>/set weechat.*</code> and <code>/set irc.*</code> to view settings available. You can use the <code>*</code> symbol to list all options available in that hierarchy.</li>
</ul>

<p>Keeping these points in mind, we can begin our install and setup.</p>

<h3 id="install">Install</h3>

<p>Head over to <a href="http://weechat.org/">weechat.org</a> and download it from source or just use the repositories available on most linux distros:</p>

<pre><code>sudo apt-get install weechat
</code></pre>

<p>You can also use <a href="http://brew.sh/">homebrew</a> on Mac.<a href="http://brew.sh/">http://brew.sh/</a>.</p>

<pre><code>brew install weechat
</code></pre>

<p>Or even <a href="https://www.macports.org/">Macports</a></p>

<pre><code>sudo port install weechat
</code></pre>

<p>On Windows, you can use <a href="http://www.cygwin.com/">Cygwin</a>, although I haven&rsquo;t personally experiemented with it.</p>

<h3 id="plugins">Plugins</h3>

<p>Now onto one of my favourite parts about weechat. The plugins. Weechat has a whole range of plugins for just about everything you can and can&rsquo;t think of. Most of the scripts are available <a href="http://weechat.org/scripts/">here</a> and those that aren&rsquo;t are likely on Github.</p>

<p>The scripts that I currently use are:</p>

<ul>
<li><a href="http://weechat.org/scripts/source/buddylist.pl.html/">buddylist.pl</a>

<ul>
<li>creates a buddy list of select nicknames and tells you if they&rsquo;re online. Also allows you to easily query/message them<br /></li>
</ul></li>
<li><a href="http://weechat.org/scripts/source/buffers.pl.html/">buffers.pl</a><br /></li>
<li><a href="http://weechat.org/scripts/source/iset.pl.html/">iset.pl</a><br />

<ul>
<li>settings browser</li>
</ul></li>
<li><a href="http://weechat.org/scripts/source/notification_center.py.html/">notification_center.py</a>

<ul>
<li>show <a href="http://i.sqr.cat/VeZN/+">notifications</a> on Mac</li>
</ul></li>
<li><a href="http://weechat.org/scripts/source/prism.py.html/">prism.py</a>

<ul>
<li>send rainbow coloured text</li>
</ul></li>
<li><a href="http://weechat.org/scripts/source/text_item.py.html/">text_item.py</a><br />

<ul>
<li>useful when adding custom text to the status bar</li>
</ul></li>
<li><a href="http://weechat.org/scripts/source/urlserver.py.html/">urlserver.py</a><br />

<ul>
<li>if an URL goes across two lines in weechat, it has a tendency to break the link for me, this plugin automatically shortens all URLs on a localhost.</li>
</ul></li>
<li><a href="http://weechat.org/scripts/source/shell.py.html/">shell.py</a>

<ul>
<li>lets you run shell commands from weechat and pipe them to chat. (My favourite is <code>/shell -o toilet -F border -f future --gay --irc &quot;This is pretty cool...&quot;</code>)</li>
</ul></li>
</ul>

<p>Most of these plugins are fairly easy to install, you can just use the following command:</p>

<pre><code>/script install [plugin]
</code></pre>

<p>Or, if the plugin isn&rsquo;t available in the weechat repository, you can download it and place it in the <code>~/.weechat/plugins</code> folder.</p>

<p>Typing <code>/script</code> will give you a list of available plugins to install - you can then use the arrow keys to navigate through the list and then type <code>i</code> followed by the enter key to install the selected plugin.</p>

<h3 id="making-it-look-pretty">Making it look pretty</h3>

<p>There&rsquo;s a lot you can do to weechat to make it look the way you want but I personally love the amount of colour-related customisation  available. I explained how the settings worked in <em>Weechat/IRC terminology</em> section and while you can choose to use <code>/set weechat.*</code> to find all of the settings, it&rsquo;s significantly easier to use the iset plugin.</p>

<p>To use iset, simply go to any buffer and type <code>/iset</code>, this will open up a new buffer with a long list of all the weechat settings. From there, you can type in the name of a setting you might want to change or simply browse through the list of settings. What makes iset especially useful is the fact that it will explain what the settings change.</p>

<p>I&rsquo;m currently using toggles so that I can hide certain parts of the interface when I want to, including the nicklist, the topic, the status and the buffer list. This <a href="http://weechat.org/files/doc/devel/weechat_user.en.html#screen_layout">weechat wiki page</a> does a very good job of explaining the screen layout, which will be good to know when you&rsquo;re changing settings.</p>

<p>Toggles are fairly simple to setup, for example, to toggle the buffer bar, press <code>Esc + B</code>:</p>

<pre><code>/key bind meta-b /bar toggle buffers
</code></pre>

<p>My weechat currently looks like this:
<img src="http://i.hugo.sx/ss/4o5bT.png" alt="Weechat 1" /></p>

<p>The main changes I&rsquo;ve made are:</p>

<pre><code>/set weechat.look.buffer_time_format
/set weechat.look.prefix_align “right”
/set weechat.look.align_end_of_lines message
/set weechat.look.prefix_same_nick “↳”
/set weechat.look.prefix_join “—&gt;”
/set weechat.look.prefix_quit &lt;—”
—
/set weechat.look.buffer_time_format “%H:%M”
/set weechat.look.prefix_align “none”
/set weechat.look.align_end_of_lines “message”
/set weechat.look.prefix_same_nick “”
/set weechat.look.prefix_join “”
—
/set irc.look.display_host_quit off
/set irc.look.display_host_join off
/set irc.look.display_host_join_local off
/set irc.look.color_nicks_in_server_messages off
—
/set buffers.look.show_number off
—
/set weechat.look.read_marker none
</code></pre>

<h3 id="setting-up-znc">Setting up ZNC</h3>

<p><a href="http://znc.in/">ZNC</a> is what&rsquo;s called an IRC bouncer and is particularly useful if you want to remain connected to an IRC server all the time. It&rsquo;s nice to be able to connect to a server and have some &lsquo;history&rsquo; of the channel; you can see what people have been discussing and then add to the conversation immediately. It also allows other users to leave you a message.</p>

<p><a href="https://www.digitalocean.com/">DigitalOcean</a> has a particularly <a href="https://www.digitalocean.com/community/tutorials/how-to-install-znc-an-irc-bouncer-on-an-ubuntu-vps">good guide</a> on setting up ZNC that should work on most servers or on a home computer.</p>

<p>Now that I look back at the top paragraph I realise I haven&rsquo;t explained ZNC all that well. The essence of it is, you run a server that connects to IRC for you, then, when you want to use IRC, you connect via that server.</p>

<p>If you can&rsquo;t afford to pay $5 a month to run ZNC, haven&rsquo;t the know-how with Linux to set it up, can&rsquo;t be bothered or don&rsquo;t have a homeserver you can use, shoot me a message on <a href="http://twitter.com/hugojmd">Twitter</a> or elsewhere and I&rsquo;d be happy to set up an account for you on my own server.</p>

                </section>
            </article>
            <footer id="post-meta" class="clearfix">
                <a href="https://twitter.com/hugojmd">
                        <img class="avatar" src="https://blog.hugo.sx/images/avatar.png">
                        <div>
                            <span class="dark">Hugo Müller-Downing</span>
                            <span>Melbourne-based software engineer</span>
                        </div>
                    </a>
                <section id="sharing">
                    <a class="twitter" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fblog.hugo.sx%2fpost%2fthe-perfect-weechat-setup-2%2f - The%20Perfect%20Weechat%20Setup by @hugojmd"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

                </section>
            </footer>

            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'blog-17';
    var disqus_identifier = 'https:\/\/blog.hugo.sx\/post\/the-perfect-weechat-setup-2\/';
    var disqus_title = 'The Perfect Weechat Setup';
    var disqus_url = 'https:\/\/blog.hugo.sx\/post\/the-perfect-weechat-setup-2\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

            <ul id="post-list" class="archive readmore">
    <h3>Read more</h3>
    
    
        
        <li>
            <a href="https://blog.hugo.sx/post/things-i-pay-money-for/">Things I actually pay money for<aside class="dates">May 22</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/roll-your-own-screenshot-service-with-s3/">Easy file sharing with S3 and Dropshare/ShareX<aside class="dates">Oct 27</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/blocking/">Blocking<aside class="dates">Oct 17</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/monash-ninja/">Monash Ninja: what, how, and the end result<aside class="dates">Oct 12</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/emails/">Emails can be bad.<aside class="dates">Sep 14</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/what-i-learned-at-unihack-melbourne/">What I learned at UNIHACK Melbourne<aside class="dates">Aug 8</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/the-perfect-weechat-setup-2/">The Perfect Weechat Setup<aside class="dates">Jul 26</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/how-i-bypassed-my-schools-proxy/">How I bypassed my school&#39;s proxy<aside class="dates">Feb 11</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/im-an-idiot/">I&#39;m an Idiot<aside class="dates">Jan 20</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://blog.hugo.sx/post/the-pirate-bay-perpetual-ip-address/">The Pirate Bay Perpetual IP Address<aside class="dates">Dec 17</aside></a>
        </li>
        
   
</ul>
            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.github.com/hugomd">
        <i class="fa fa-github"></i>
    </a>
    
    <a class="symbol" href="https://keybase.io/hugomd">
        <i class="fa fa-key"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/hugojmd">
        <i class="fa fa-twitter"></i>
    </a>
    


</div>

    
    <p class="small">
    
        © Copyright 2016 Hugo Müller-Downing
    
    </p>
</footer>

        </section>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://blog.hugo.sx/js/main.js"></script>
<script src="https://blog.hugo.sx/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>





    </body>
</html>
